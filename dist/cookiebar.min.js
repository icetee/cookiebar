/**
 * cookiebar - It is a pure JS code, that warns the visitors in the notification bar, the page saves cookies. This is Compliant with the new EU cookie law.
 * Date 2017-08-08T12:26:15Z
 * 
 * @author Tamás András Horváth <htomy92@gmail.com> (http://icetee.hu)
 * @version v0.9.7
 * @link https://github.com/icetee/cookiebar#readme
 * @license MIT
 */

var Cookiebar=function(t){function e(n){if(!(this instanceof e))return new e(n);var a=n.charAt(0);"#"===a?this.el=t.getElementById(n.substr(1)):"."===a?this.el=t.getElementsByClassName(n.substr(1)):this.el=t.getElementsByTagName(n)}e.prototype.fade=function(t,e,n){function a(){o=i?o+c:o-c,d.el.style.opacity=o,o<=0&&(d.el.style.display="none"),(o<=0||o>=1)&&window.clearInterval(h)}var i="in"===t,o=i?0:1,s=50,r=e,c=s/r,l=n?n:"inline",d=this;i&&(d.el.style.display=l,d.el.style.opacity=o);var h=window.setInterval(a,s)};var n=function(){};n.prototype.extend=function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e];if("object"==typeof n)for(var a in n)n.hasOwnProperty(a)&&(t[a]="object"==typeof n[a]?this.extend({},t[a],n[a]):n[a])}return t},n.prototype.trigger=function(e,n){var a=t.createEvent("Event");a.initEvent(n,!0,!0),e.dispatchEvent(a)},n.prototype.addEvent=function(t,e,n){return t[window.attachEvent?"attachEvent":"addEventListener"]((window.attachEvent?"on":"")+e,n,!0)},n.prototype.removeEvent=function(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n)},n.prototype.parseTemplate=function(t,e){return t.replace(/\$\{(\w+)\}/gi,function(t,n){return void 0!==e[n]?e[n]:t})};var a=new n,i=function(e){var n=this;this.opt=a.extend({id:"cookiebar",cls:"cookiebar",cookie:"cookiebar",content:{description:"Az oldal sütiket használ a működéshez. Szolgáltatásaink igénybevételével Ön beleegyezik a sütik használatába!",link:"További információk",href:"http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm",button:"Elfogadom",more:"Az EU-s jogszabályok értelmében fel kell hívnunk a figyelmét, hogy oldalaink sütiket (cookie) használnak. Ezek miniatűr, ártalmatlan fájlok, melyeket az ön gépére helyezünk el, hogy a szolgáltatásaink használatát egyszerűbbé tegyük az ön számára. A sütiket természetesen letilthatja a böngészőjében, azonban ha az Elfogadom feliratú gombra kattint, akkor elfogadja azok használatát."},fade:{type:"in",ms:"500",display:"inline"},debug:0,exits:!0},e||{}),this.bar=null,this.data=this.opt,this.bodyMargBotBackup=t.body.style.marginBottom||"",this.accepted=!1,this.events={btnClick:function(t){t&&t.preventDefault?t.preventDefault():"object"==typeof t&&(t.returnValue=!1),n.accept()},winResize:function(){n.accepted||(t.body.style.marginBottom=n.bar.offsetHeight+"px")}},this.init()};return i.prototype.init=function(){var t=this;t.data.debug?t.setCookie("debug_cookibar","test",365,function(){t.withdraw()}):t.checkCookie()},i.prototype.getCookie=function(e){for(var n=e+"=",a=t.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return""},i.prototype.setCookie=function(e,n,a,i){var o=new Date;o.setDate(o.getDate()+a);var s=escape(n)+(null===a?"":"; expires="+o.toUTCString()+"; path=/;");t.cookie=e+"="+s,"function"==typeof i&&i.call(this)},i.prototype.delCookie=function(e){t.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},i.prototype.html=function(){var t='<div class="${cls}-wrapper"><div class="${cls}-desciption">${des}</div><div class="${cls}-link"><a href="${href}">${link}</a></div><div class="${cls}-button"><button type="button" name="${cls}-button" class="${cls}-btn">${btn}</button></div><div class="${cls}-more" style="display: none;">${more}</div></div>';return a.parseTemplate(t,{cls:this.data.cls,href:this.data.content.href,link:this.data.content.link,more:this.data.content.more,btn:this.data.content.button,des:this.data.content.description})},i.prototype.withdraw=function(){this.delCookie(this.data.id),this.accepted=!1,this.checkCookie()},i.prototype.accept=function(){this.accepted=!0,this.setCookie(this.data.cookie,!0,365),a.removeEvent(window,"resize",this.events.winResize),this.bar&&(this.bar.style.display="none"),t.body.style.marginBottom!==this.bodyMargBotBackup&&(t.body.style.marginBottom=this.bodyMargBotBackup)},i.prototype.draw=function(){var n,i=this;i.accepted||(i.bar||(i.bar=t.createElement("div"),i.bar.id=i.data.id,i.bar.className=i.data.cls,i.bar.innerHTML=i.html(),t.body.insertBefore(i.bar,t.body.firstChild),n=i.bar.getElementsByClassName(i.data.cls+"-btn")[0],a.addEvent(n,"click",i.events.btnClick)),a.addEvent(window,"resize",i.events.winResize),a.trigger(window,"resize"),e("#"+i.data.id).fade(i.data.fade.type,i.data.fade.ms),i.setCookie(i.data.cookie,null,365))},i.prototype.checkCookie=function(){this.accepted="true"===this.getCookie(this.data.cookie),this.accepted||this.draw()},i.prototype.getStatus=function(){return this.accepted},i}(document);